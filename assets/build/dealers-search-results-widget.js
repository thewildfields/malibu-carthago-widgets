(()=>{"use strict";var e,t,r,i,o={669:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var i=r(5459);await(0,i.A)("cards"),t()}catch(e){t(e)}}),1)},1362:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(1961),o=r(4567),n=r(9374);const a=async(e,t,r,a)=>{const{AdvancedMarkerElement:s}=await o.A.importLibrary("marker");if(!e.location.lat||!e.location.lng)return void console.error("Dealer is missing location attributes");const l=new s({map:t,position:{lat:e.location.lat,lng:e.location.lng}});if(a&&(r.extend({lat:e.location.lat,lng:e.location.lng}),t.fitBounds(r)),e.tax_marker){const t=document.createElement("img");t.style.width="35px",t.style.height="35px",t.style.objectFit="contain",t.src=e.tax_marker,l.content=t}google.maps.event.addListener(l,"click",(()=>{(0,n.A)(e,l)}));const c=document.querySelector(`${i.Tp.dealerCard}[dealer-id="${e.id}"]`);if(c){const t=c.closest(i.Tp.dealerCardsContainer);t&&t.hasAttribute("open-infowindow-on-click")&&c.addEventListener("click",(()=>{(0,n.A)(e,l)}))}return l}},1391:(e,t,r)=>{r(9680),r(1961)},1961:(e,t,r)=>{r.d(t,{Ly:()=>o,Tp:()=>i,dz:()=>a,oO:()=>n,zS:()=>s}),r(9374);const i={searchWidget:'[widget-control="search-widget"]',searchButton:'[widget-control="search-button"]',errorMessage:'[widget-control="error-message"]',taxonomyFilterInputs:'[widget-control="taxonomy-filter-input"]',locationInput:'[widget-control="location"]',neighborCountriesToggle:'[widget-control="neighbor-countries-toggle"]',radiusOptions:'[widget-control="radius-options-container"]',radiusOption:'[widget-control="radius-option"]',radiusValue:'[widget-control="radius-value"]',textInput:'[widget-control="text-filter-input"]',dropdownContainer:'[widget-control="dropdown-container"]',dropdownBlock:'[widget-control="values-dropdown"]',dropdownInput:'[widget-control="dropdown-input"]',dropdownOption:'[widget-control="dropdown-option"]',dropdownOptionGroup:'[widget-control="dropdown-option-group"]',dropdownValueList:'[widget-control="selected-value-list"]',mapContainer:'[widget-control="dealers-map-container"]',searchResultsWidget:'[widget-control="dealers-search-results-container"]',dealerCard:'[widget-control="dealer-card"]',dealerCardsContainer:'[widget-control="dealers-search-results-container"]'},o={dropdownActive:"---mcw--mcs__dropdownOptions_open",radiusDropdownOpen:"---mcw--mcs__radius__options_open",infowindow:"---mcw--dm__infowindow",infowindowTitle:"---mcw--dm__infowindowTitle",infowindowText:"---mcw--dm__infowindowText",infowindowLink:"---mcw--dm__infowindowLink",infowindowCategories:"---mcw--dm__i",infowindowCategoryItem:"---mcw--dm__infowindowCategoriesItem",dealerCard:"---mcw--dc",dealerCardDistance:"---mcw--dc__distance",dealerCardTitle:"---mcw--dc__title",dealerCardCity:"---mcw--dc__city",dealerCardCategories:"---mcw--dc__categories",dealerCardCategoryItem:"---mcw--dc__categoriesItem",dealerCardModelsTitle:"---mcw--dc__modelsTitle",dealerCardModels:"---mcw--dc__models",widgetInput:"---mcw--mcs__input",widgetInputError:"---mcw--mcs__input_error",widgetInputNoPlaceholder:"---mcw--mcs__input_noPlacehoder"},n=(window.location.origin,"AIzaSyBkzLO8lK3yXznfawhOc74Y-FMvGR84tVg"),a=[],s=()=>{a.forEach((e=>e.close()))};globalThis.appData={markers:{}}},3270:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(1961);const o=(e,t,r)=>{const o=document.createElement("div");o.setAttribute("widget-control","dealer-card"),o.setAttribute("dealer-id",t.id),o.classList.add(i.Ly.dealerCard);const n=document.createElement("p");n.classList.add(i.Ly.dealerCardDistance),n.textContent=t.distance+" km",o.appendChild(n);const a=document.createElement("p");a.classList.add(i.Ly.dealerCardTitle),a.textContent=t.title,o.appendChild(a);const s=document.createElement("p");s.classList.add(i.Ly.dealerCardCity),s.textContent=t.city,o.appendChild(s);const l=document.createElement("p");l.classList.add(i.Ly.dealerCardCategories);const c=e.getAttribute("allowed-categories");let d;if(c&&(d=e.getAttribute("allowed-categories").split("+")),Object.keys(t.categories).forEach((e=>{const r=document.createElement("span");r.classList.add(i.Ly.dealerCardCategoryItem),r.textContent=t.categories[e],c&&d.includes(e)?l.appendChild(r):c||l.appendChild(r)})),o.appendChild(l),"vehicles"===r){const r=document.createElement("p");r.classList.add(i.Ly.dealerCardModelsTitle),r.textContent=e.getAttribute("available-models-text"),o.appendChild(r);const n=document.createElement("p");n.classList.add(i.Ly.dealerCardModels),n.innerHTML=t.models_intersect,o.appendChild(n)}document.querySelector(i.Tp.searchResultsWidget).appendChild(o),e.hasAttribute("open-infowindow-on-click")&&o.addEventListener("click",(e=>{t.id}))}},3693:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(1961);const o=(e,t="regular",r=null)=>{const o=document.querySelector(i.Tp.mapContainer),n=o.getAttribute("dealer-categories")?o.getAttribute("dealer-categories").split("+"):[],a=document.createElement("link"===t||"email"===t?"a":"p");switch(a.classList.add(i.Ly.infowindowText),t){case"title":a.classList.add(i.Ly.infowindowTitle);break;case"link":a.classList.add(i.Ly.infowindowLink),a.setAttribute("href",e),a.setAttribute("target","_blank");break;case"email":a.classList.add(i.Ly.infowindowLink),a.setAttribute("href",`mailto:${e}`),a.setAttribute("target","_blank");break;default:a.classList.add(i.Ly.infowindowText)}if("categories"===r){Object.values(e);const t=Object.keys(e);a.classList.add(i.Ly.infowindowCategories),t.forEach((t=>{if(n&&n.length>0&&n.includes(t)){const r=document.createElement("span");r.classList.add(i.Ly.infowindowCategoryItem),r.textContent=e[t],a.appendChild(r)}}))}else if("email"===t){const t=document.querySelector(i.Tp.mapContainer);a.textContent=t.getAttribute("email-prefix")+e}else if("link"===t){const t=document.querySelector(i.Tp.mapContainer);console.log(t.getAttribute("website-prefix")),a.textContent=t.getAttribute("website-prefix")+e}else a.textContent=e;return a},n=e=>{const t=document.createElement("div");t.classList.add(i.Ly.infowindow);const r=document.querySelector(i.Tp.mapContainer);return e.title&&t.appendChild(o(e.title,"title")),e.formatted_address&&t.appendChild(o(e.formatted_address)),e.phone&&t.appendChild(o(r.getAttribute("phone-prefix")+e.phone)),e.email&&t.appendChild(o(e.email,"email")),e.url&&t.appendChild(o(e.url,"link")),e.categories&&t.appendChild(o(e.categories,"regular","categories")),t}},4567:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(1961);const o=new(r(4869).aH)({apiKey:i.oO,version:"weekly",libraries:["maps","places","geocoding","marker"]})},4869:(e,t,r)=>{function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}r.d(t,{aH:()=>s}),"function"==typeof SuppressedError&&SuppressedError;var o=i((function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,o,n;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(o=i;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(n=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=i;0!=o--;){var a=n[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}));const n="__googleMapsScriptId";var a;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(a||(a={}));class s{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:i,id:a=n,language:l,libraries:c=[],mapIds:d,nonce:p,region:h,retries:u=3,url:g="https://maps.googleapis.com/maps/api/js",version:m}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=i,this.id=a||n,this.language=l,this.libraries=c,this.mapIds=d,this.nonce=p,this.region=h,this.retries=u,this.url=g,this.version=m,s.instance){if(!o(this.options,s.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(s.instance.options)}`);return s.instance}s.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?a.FAILURE:this.done?a.SUCCESS:this.loading?a.LOADING:a.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((r=>{r?t(r.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach((e=>!r[e]&&delete r[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,r,i,o="The Google Maps JavaScript API",n="google",a="importLibrary",s="__ib__",l=document,c=window;c=c[n]||(c[n]={});const d=c.maps||(c.maps={}),p=new Set,h=new URLSearchParams,u=()=>t||(t=new Promise(((a,c)=>{return u=this,g=void 0,w=function*(){var u;for(i in yield r=l.createElement("script"),r.id=this.id,h.set("libraries",[...p]+""),e)h.set(i.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[i]);h.set("callback",n+".maps."+s),r.src=this.url+"?"+h,d[s]=a,r.onerror=()=>t=c(Error(o+" could not load.")),r.nonce=this.nonce||(null===(u=l.querySelector("script[nonce]"))||void 0===u?void 0:u.nonce)||"",l.head.append(r)},new((m=void 0)||(m=Promise))((function(e,t){function r(e){try{o(w.next(e))}catch(e){t(e)}}function i(e){try{o(w.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof m?o:new m((function(e){e(o)}))).then(r,i)}o((w=w.apply(u,g||[])).next())}));var u,g,m,w})));d[a]?console.warn(o+" only loads once. Ignoring:",e):d[a]=(e,...t)=>p.add(e)&&u().then((()=>d[a](e,...t)))})(r);const i=this.libraries.map((e=>this.importLibrary(e)));i.length||i.push(this.importLibrary("core")),Promise.all(i).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}},5459:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(3270),o=r(1362),n=r(1961),a=r(5711);r(4567),r(1391);const s=async(e=null,t=null,r=null)=>{document.addEventListener("dealersFetched",(async s=>{const l=s.detail.dealersResponse.items;if(l)if(0!==l.length){if("markers"===e||e.includes("markers")){const e=s.detail.map;let t={};if(globalThis.appData.map=e,!e)return void console.error("Map is not found");const r=new google.maps.LatLngBounds;l.forEach((async i=>{if(i.location&&i.location.lat&&i.location.lng){const n=await(0,o.A)(i,e,r,s.detail.resize);t[i.id]=n}})),setTimeout((()=>{globalThis.appData.markers=t}),100)}if(s.detail.renderCards&&("cards"===e||e.includes("cards"))){const e=document.querySelectorAll(n.Tp.searchResultsWidget);for(let t=0;t<e.length;t++){const r=e[t];l.forEach((async e=>{e.location&&e.location.lat&&e.location.lng&&(0,i.A)(r,e,s.detail.sourceWidgetType)}))}}}else{"widget"===e&&(0,a.A)(t,"dealers",r);const i=s.detail.map;s.detail.mapCenter&&(i.setCenter(s.detail.mapCenter),i.setZoom(12))}else console.error("Error dispatching dealers fetched event")}))}},5711:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(1961);const o=(e,t,r)=>{const o=e.querySelector(i.Tp.errorMessage);o.innerHTML="";let n,a,s=o.innerHTML;switch(t){case"location":n=e.querySelector(i.Tp.locationInput),a=r.missing_location_message;break;case"model":n=e.querySelector(i.Tp.dropdownInput),a=r.missing_models_message;break;case"dealers":a=r.missing_dealers_message}n&&r.error_field_highlight&&n.classList.add(i.Ly.widgetInputError),r.show_error_messages&&(s+=a+"<br>",o.innerHTML=s,o.style.maxHeight="none",o.style.opacity=1),!r.error_timeout||r.error_field_highlight&&r.show_error_messages||setTimeout((()=>{n.classList.remove(i.Ly.widgetInputError),o.style.opacity=0,setTimeout((()=>{o.style.maxHeight="0px",o.innerHTML=""}),200)}),r.error_timeout)}},9374:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(1961),o=r(3693);const n=async(e,t)=>{i.dz.length&&(0,i.zS)();const r=new google.maps.InfoWindow({content:(0,o.A)(e)});r.open(t.map,t),i.dz.push(r)}},9680:(e,t,r)=>{r(4567)}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,a),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(o,n,a)=>{var s;a&&((s=[]).d=-1);var l,c,d,p=new Set,h=o.exports,u=new Promise(((e,t)=>{d=t,c=e}));u[t]=h,u[e]=e=>(s&&e(s),p.forEach(e),u.catch((e=>{}))),o.exports=u,n((o=>{var n;l=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var n=[];n.d=0,o.then((e=>{a[t]=e,i(n)}),(e=>{a[r]=e,i(n)}));var a={};return a[e]=e=>e(n),a}}var s={};return s[e]=e=>{},s[t]=o,s})))(o);var a=()=>l.map((e=>{if(e[r])throw e[r];return e[t]})),c=new Promise((t=>{(n=()=>t(a)).r=0;var r=e=>e!==s&&!p.has(e)&&(p.add(e),e&&!e.d&&(n.r++,e.push(n)));l.map((t=>t[e](r)))}));return n.r?c:a()}),(e=>(e?d(u[r]=e):c(h),i(s)))),s&&s.d<0&&(s.d=0)},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(669)})();