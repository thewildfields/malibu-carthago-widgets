(()=>{"use strict";var e,t,r,i,o={669:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var i=r(8810);await(0,i.A)("cards"),t()}catch(e){t(e)}}),1)},1961:(e,t,r)=>{r.d(t,{Ly:()=>o,Tp:()=>i,dz:()=>a,oO:()=>n,zS:()=>s}),r(9374);const i={searchWidget:'[widget-control="search-widget"]',searchButton:'[widget-control="search-button"]',errorMessage:'[widget-control="error-message"]',additionalInputs:'[widget-control="additional-input"]',locationInput:'[widget-control="location"]',neighborCountriesToggle:'[widget-control="neighbor-countries-toggle"]',radiusOptions:'[widget-control="radius-options-container"]',radiusOption:'[widget-control="radius-option"]',radiusValue:'[widget-control="radius-value"]',textInput:'[widget-control="text-filter-input"]',dropdownContainer:'[widget-control="dropdown-container"]',dropdownBlock:'[widget-control="values-dropdown"]',dropdownInput:'[widget-control="dropdown-input"]',dropdownOption:'[widget-control="dropdown-option"]',mapContainer:'[widget-control="dealers-map-container"]',searchResultsWidget:'[widget-control="dealers-search-results-container"]',dealerCard:'[widget-control="dealer-card"]',dealerCardsContainer:'[widget-control="dealers-search-results-container"]'},o={dropdownActive:"---mcw--mcs__dropdownOptions_open",radiusDropdownOpen:"---mcw--mcs__radius__options_open",infowindow:"---mcw--dm__infowindow",infowindowTitle:"---mcw--dm__infowindowTitle",infowindowText:"---mcw--dm__infowindowText",infowindowLink:"---mcw--dm__infowindowLink",infowindowCategories:"---mcw--dm__i",infowindowCategoryItem:"---mcw--dm__infowindowCategoriesItem",dealerCard:"---mcw--dc",dealerCardDistance:"---mcw--dc__distance",dealerCardTitle:"---mcw--dc__title",dealerCardCity:"---mcw--dc__city",dealerCardCategories:"---mcw--dc__categories",dealerCardCategoryItem:"---mcw--dc__categoriesItem",dealerCardModelsTitle:"---mcw--dc__modelsTitle",dealerCardModels:"---mcw--dc__models",widgetInput:"---mcw--mcs__input",widgetInputError:"---mcw--mcs__input_error"},n=(window.location.origin,"AIzaSyBkzLO8lK3yXznfawhOc74Y-FMvGR84tVg"),a=[],s=()=>{a.forEach((e=>e.close()))};globalThis.appData={markers:{}}},3693:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(1961);const o=(e,t="regular",r=null)=>{const o=document.createElement("link"===t?"a":"p");switch(o.classList.add(i.Ly.infowindowText),t){case"title":o.classList.add(i.Ly.infowindowTitle);break;case"link":o.classList.add(i.Ly.infowindowLink),o.setAttribute("href",e),o.setAttribute("target","_blank");default:o.classList.add(i.Ly.infowindowText)}if("categories"===r){const t=Object.values(e);o.classList.add(i.Ly.infowindowCategories),t.forEach((e=>{const t=document.createElement("span");t.classList.add(i.Ly.infowindowCategoryItem),t.textContent=e,o.appendChild(t)}))}else o.textContent=e;return o},n=e=>{const t=document.createElement("div");return t.classList.add(i.Ly.infowindow),e.title&&t.appendChild(o(e.title,"title")),e.formatted_address&&t.appendChild(o(e.formatted_address)),e.phone&&t.appendChild(o(e.phone)),e.email&&t.appendChild(o(e.email,"link")),e.website&&t.appendChild(o(e.website,"link")),e.categories&&t.appendChild(o(e.categories,"regular","categories")),t}},4567:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(1961);const o=new(r(4869).aH)({apiKey:i.oO,version:"weekly",libraries:["maps","places","geocoding","marker"]})},4869:(e,t,r)=>{function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}r.d(t,{aH:()=>s}),"function"==typeof SuppressedError&&SuppressedError;var o=i((function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,o,n;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(o=i;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(n=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,n[o]))return!1;for(o=i;0!=o--;){var a=n[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}));const n="__googleMapsScriptId";var a;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(a||(a={}));class s{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:i,id:a=n,language:l,libraries:d=[],mapIds:c,nonce:h,region:p,retries:u=3,url:g="https://maps.googleapis.com/maps/api/js",version:m}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=i,this.id=a||n,this.language=l,this.libraries=d,this.mapIds=c,this.nonce=h,this.region=p,this.retries=u,this.url=g,this.version=m,s.instance){if(!o(this.options,s.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(s.instance.options)}`);return s.instance}s.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?a.FAILURE:this.done?a.SUCCESS:this.loading?a.LOADING:a.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((r=>{r?t(r.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach((e=>!r[e]&&delete r[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,r,i,o="The Google Maps JavaScript API",n="google",a="importLibrary",s="__ib__",l=document,d=window;d=d[n]||(d[n]={});const c=d.maps||(d.maps={}),h=new Set,p=new URLSearchParams,u=()=>t||(t=new Promise(((a,d)=>{return u=this,g=void 0,w=function*(){var u;for(i in yield r=l.createElement("script"),r.id=this.id,p.set("libraries",[...h]+""),e)p.set(i.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[i]);p.set("callback",n+".maps."+s),r.src=this.url+"?"+p,c[s]=a,r.onerror=()=>t=d(Error(o+" could not load.")),r.nonce=this.nonce||(null===(u=l.querySelector("script[nonce]"))||void 0===u?void 0:u.nonce)||"",l.head.append(r)},new((m=void 0)||(m=Promise))((function(e,t){function r(e){try{o(w.next(e))}catch(e){t(e)}}function i(e){try{o(w.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof m?o:new m((function(e){e(o)}))).then(r,i)}o((w=w.apply(u,g||[])).next())}));var u,g,m,w})));c[a]?console.warn(o+" only loads once. Ignoring:",e):c[a]=(e,...t)=>h.add(e)&&u().then((()=>c[a](e,...t)))})(r);const i=this.libraries.map((e=>this.importLibrary(e)));i.length||i.push(this.importLibrary("core")),Promise.all(i).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}},8810:(e,t,r)=>{r.d(t,{A:()=>s});var i=r(1961);const o=(e,t)=>{const r=document.createElement("div");r.setAttribute("widget-control","dealer-card"),r.setAttribute("dealer-id",t.id),r.classList.add(i.Ly.dealerCard);const o=document.createElement("p");o.classList.add(i.Ly.dealerCardDistance),o.textContent=t.distance+" km",r.appendChild(o);const n=document.createElement("p");n.classList.add(i.Ly.dealerCardTitle),n.textContent=t.title,r.appendChild(n);const a=document.createElement("p");a.classList.add(i.Ly.dealerCardCity),a.textContent=t.city,r.appendChild(a);const s=document.createElement("p");s.classList.add(i.Ly.dealerCardCategories);const l=e.getAttribute("allowed-categories");let d;l&&(d=e.getAttribute("allowed-categories").split("+")),Object.keys(t.categories).forEach((e=>{console.log(e);const r=document.createElement("span");r.classList.add(i.Ly.dealerCardCategoryItem),r.textContent=t.categories[e],l&&d.includes(e)?s.appendChild(r):l||s.appendChild(r)})),r.appendChild(s);const c=document.createElement("p");c.classList.add(i.Ly.dealerCardModelsTitle),c.textContent=e.getAttribute("available-models-text"),r.appendChild(c);const h=document.createElement("p");h.classList.add(i.Ly.dealerCardModels),h.textContent=t.models_intersect,r.appendChild(h),document.querySelector(i.Tp.searchResultsWidget).appendChild(r),e.hasAttribute("open-infowindow-on-click")&&r.addEventListener("click",(e=>{t.id}))};var n=r(4567),a=r(9374);const s=async(e=null)=>{document.addEventListener("dealersFetched",(async t=>{const r=t.detail.dealersResponse.items;if(r)if(0!==r.length){if("markers"===e||e.includes("markers")){const e=t.detail.map;let o={};if(globalThis.appData.map=e,!e)return void console.error("Map is not found");const s=new google.maps.LatLngBounds;r.forEach((async r=>{const l=await(async(e,t,r,o)=>{const{AdvancedMarkerElement:s}=await n.A.importLibrary("marker");if(!e.location.lat||!e.location.lng)return void console.error("Dealer is missing location attributes");const l=new s({map:t,position:{lat:e.location.lat,lng:e.location.lng}});if(o&&(r.extend({lat:e.location.lat,lng:e.location.lng}),t.fitBounds(r)),e.tax_marker){const t=document.createElement("img");t.style.width="35px",t.style.height="35px",t.style.objectFit="contain",t.src=e.tax_marker,l.content=t}google.maps.event.addListener(l,"click",(()=>{(0,a.A)(e,l)}));const d=document.querySelector(`${i.Tp.dealerCard}[dealer-id="${e.id}"]`);if(d){const t=d.closest(i.Tp.dealerCardsContainer);t&&t.hasAttribute("open-infowindow-on-click")&&d.addEventListener("click",(()=>{(0,a.A)(e,l)}))}return l})(r,e,s,t.detail.resize);o[r.id]=l})),setTimeout((()=>{globalThis.appData.markers=o}),100)}if(t.detail.renderCards&&("cards"===e||e.includes("cards"))){const e=document.querySelectorAll(i.Tp.searchResultsWidget);if(!e.length)return void console.error("Search results widgets are not found");for(let t=0;t<e.length;t++){const i=e[t];i.innerHTML="",r.forEach((async e=>{o(i,e)}))}}}else console.error("No dealers found");else console.error("Error dispatching dealers fetched event")}))}},9374:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(1961),o=r(3693);const n=async(e,t)=>{i.dz.length&&(0,i.zS)();const r=new google.maps.InfoWindow({content:(0,o.A)(e)});r.open(t.map,t),i.dz.push(r)}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,a),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(o,n,a)=>{var s;a&&((s=[]).d=-1);var l,d,c,h=new Set,p=o.exports,u=new Promise(((e,t)=>{c=t,d=e}));u[t]=p,u[e]=e=>(s&&e(s),h.forEach(e),u.catch((e=>{}))),o.exports=u,n((o=>{var n;l=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var n=[];n.d=0,o.then((e=>{a[t]=e,i(n)}),(e=>{a[r]=e,i(n)}));var a={};return a[e]=e=>e(n),a}}var s={};return s[e]=e=>{},s[t]=o,s})))(o);var a=()=>l.map((e=>{if(e[r])throw e[r];return e[t]})),d=new Promise((t=>{(n=()=>t(a)).r=0;var r=e=>e!==s&&!h.has(e)&&(h.add(e),e&&!e.d&&(n.r++,e.push(n)));l.map((t=>t[e](r)))}));return n.r?d:a()}),(e=>(e?c(u[r]=e):d(p),i(s)))),s&&s.d<0&&(s.d=0)},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(669)})();